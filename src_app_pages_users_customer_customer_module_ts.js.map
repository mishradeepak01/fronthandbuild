{"version":3,"sources":["./src/app/pages/users/customer/customer-routing.module.ts","./src/app/pages/users/customer/customer.module.ts","./src/app/pages/users/customer/customer.page.ts","./src/app/pages/users/customer/customer.page.scss","./src/app/pages/users/customer/customer.page.html"],"names":[],"mappings":"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","file":"src_app_pages_users_customer_customer_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CustomerPage } from './customer.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CustomerPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CustomerPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CustomerPageRoutingModule } from './customer-routing.module';\n\nimport { CustomerPage } from './customer.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CustomerPageRoutingModule\n  ],\n  declarations: [CustomerPage]\n})\nexport class CustomerPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { UserService } from 'src/app/services/user.service';\nimport { TokenStorageService } from '../../../services/tokenstorage.service';\nimport { Router } from '@angular/router';\nimport { getLocaleDateFormat, getLocaleTimeFormat } from '@angular/common';\nimport { AlertService } from 'src/app/services/alert.service';\n\n@Component({\n  selector: 'app-customer',\n  templateUrl: './customer.page.html',\n  styleUrls: ['./customer.page.scss'],\n})\nexport class CustomerPage implements OnInit {\n\n  name: string;\n  id: number;\n  customers:[];\n  customersData:[];\n\n  constructor(private tokenStorage: TokenStorageService, \n              private userService: UserService,\n              private alertService: AlertService, \n              private router: Router ) { }\n\n  ngOnInit() {\n    this.getUserData();\n    this.getUsers();\n  }\n\n  // getAnniversary() {\n  //   let date: Date = new Date('UTC');\n  //   let currentDay = date.getDay();\n  //   let currentMonth = date.getMonth();\n  //   // let currentDay = 14;\n  //   // let currentMonth = 8;\n  //   this.customers.forEach(customer => {\n  //     let customer_anniversary = customer.anniversary.split('-');\n  //     if((currentDay == customer_anniversary[2]) && (currentMonth == customer_anniversary[1])) {\n  //       this.alertService.presentToast(`Congratulations ${customer.first_name+' '+customer.last_name} has completed a year with us`, 'success');\n  //     }\n  //   });\n  // }\n\n  getUserData() {\n    let user = this.tokenStorage.DecodeToken();\n    this.name = user['username'];\n    this.id = user['user_id'];\n  }\n\n  async getUsers() {\n    await this.userService.getUsers(this.id).subscribe(\n      data => {\n        this.customers = data['customer']\n        // this.getAnniversary()\n      }\n    )\n  }\n\n  Search(value) {\n    value = value.toLowerCase();\n    if(value == '') {\n      this.getUsers();\n    }\n    let copyCustomers = this.customers;\n    this.customers = [];\n    copyCustomers.forEach(element => {\n      let name = (element['first_name']+' '+element['last_name']).toLowerCase();\n      if(name.indexOf(value)!=-1) {\n        this.customers.push(element)\n      }\n    });\n  }\n\n  onClear() {\n    this.getUsers()\n  }\n\n  select(customer) {\n    this.router.navigate(['/profile'])\n    this.userService.addCusomerToStorage(JSON.stringify(customer));\n  }\n  \n  add() {\n    this.router.navigateByUrl('/add-customer', {state:{id:this.id}})\n  }\n}\n","export default \"ion-searchbar {\\n  width: 50%;\\n  color: #bfb8ff;\\n}\\n\\n.content {\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-between;\\n}\\n\\n.grid {\\n  margin: 1rem;\\n  display: grid;\\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\\n  grid-gap: 1.5rem;\\n}\\n\\n.grid ion-card {\\n  display: flex;\\n  flex-direction: column;\\n}\\n\\n.grid ion-card ion-card-header {\\n  display: flex;\\n  justify-content: space-around;\\n  align-items: center;\\n}\\n\\n.grid ion-card-subtitle {\\n  font-size: 1rem;\\n  margin-bottom: 0.5rem;\\n}\\n\\n.grid ion-card-subtitle span {\\n  font-weight: bold;\\n}\\n\\nion-title {\\n  color: #1000aa;\\n}\\n\\n@media (max-width: 450px) {\\n  .content ion-title {\\n    padding: 0 0.8rem;\\n    max-width: -webkit-fit-content;\\n    max-width: -moz-fit-content;\\n    max-width: fit-content;\\n  }\\n  .content ion-searchbar {\\n    width: -webkit-fit-content;\\n    width: -moz-fit-content;\\n    width: fit-content;\\n  }\\n}\\n\\n@media (max-width: 350px) {\\n  .content ion-title {\\n    padding: 0 0.4rem;\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImN1c3RvbWVyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFVBQVU7RUFDVixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQiw4QkFBOEI7QUFDaEM7O0FBRUE7RUFDRSxZQUFZO0VBQ1osYUFBYTtFQUNiLDREQUEyRDtFQUMzRCxnQkFBZ0I7QUFDbEI7O0FBTEE7RUFPSSxhQUFhO0VBQ2Isc0JBQXNCO0FBRTFCOztBQVZBO0VBVU0sYUFBYTtFQUNiLDZCQUE2QjtFQUM3QixtQkFBbUI7QUFJekI7O0FBaEJBO0VBaUJJLGVBQWM7RUFDZCxxQkFBcUI7QUFHekI7O0FBckJBO0VBb0JNLGlCQUFpQjtBQUt2Qjs7QUFEQTtFQUNFLGNBQWM7QUFJaEI7O0FBQUE7RUFDRTtJQUVJLGlCQUFpQjtJQUNqQiw4QkFBc0I7SUFBdEIsMkJBQXNCO0lBQXRCLHNCQUFzQjtFQUUxQjtFQUxBO0lBT0ksMEJBQWtCO0lBQWxCLHVCQUFrQjtJQUFsQixrQkFBa0I7RUFDdEI7QUFDRjs7QUFHQTtFQUNFO0lBRUksaUJBQWlCO0VBRHJCO0FBQ0YiLCJmaWxlIjoiY3VzdG9tZXIucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLXNlYXJjaGJhcntcbiAgd2lkdGg6IDUwJTtcbiAgY29sb3I6ICNiZmI4ZmY7XG59XG5cbi5jb250ZW50e1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG59XG5cbi5ncmlke1xuICBtYXJnaW46IDFyZW07XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCxtaW5tYXgoMzAwcHgsIDFmcikpO1xuICBncmlkLWdhcDogMS41cmVtO1xuXG4gIGlvbi1jYXJke1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBpb24tY2FyZC1oZWFkZXJ7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIH1cbiAgfVxuXG4gIGlvbi1jYXJkLXN1YnRpdGxle1xuICAgIGZvbnQtc2l6ZToxcmVtO1xuICAgIG1hcmdpbi1ib3R0b206IDAuNXJlbTtcbiAgICBzcGFue1xuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgfVxuICB9XG59XG5pb24tdGl0bGV7XG4gIGNvbG9yOiAjMTAwMGFhO1xufVxuXG5cbkBtZWRpYShtYXgtd2lkdGg6IDQ1MHB4KSB7XG4gIC5jb250ZW50e1xuICAgIGlvbi10aXRsZXtcbiAgICAgIHBhZGRpbmc6IDAgMC44cmVtO1xuICAgICAgbWF4LXdpZHRoOiBmaXQtY29udGVudDtcbiAgICB9XG5cbiAgICBpb24tc2VhcmNoYmFye1xuICAgICAgd2lkdGg6IGZpdC1jb250ZW50O1xuICAgIH1cbiAgfVxufVxuXG5AbWVkaWEobWF4LXdpZHRoOiAzNTBweCkge1xuICAuY29udGVudHtcbiAgICBpb24tdGl0bGV7XG4gICAgICBwYWRkaW5nOiAwIDAuNHJlbTtcbiAgICB9XG4gIH1cbn0iXX0= */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <div class=\\\"content\\\">\\n      <ion-title>Customer</ion-title>\\n      <ion-searchbar (ionClear)=\\\"onClear()\\\" (ionChange)=\\\"Search($event.target.value)\\\" animated></ion-searchbar>\\n    </div>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"grid\\\">\\n    <ion-card *ngFor=\\\"let customer of customers\\\" (click)=\\\"select(customer)\\\">\\n      <ion-card-header>\\n        <ion-card-title>\\n          <ion-text>\\n            {{customer.first_name}}\\n          </ion-text>\\n\\n          <ion-text>\\n            {{customer.last_name}}\\n          </ion-text>\\n        </ion-card-title>\\n\\n        <ion-avatar>\\n          <img [src]=\\\"'data:image/png;base64,'+customer.image_name\\\">\\n        </ion-avatar>\\n      </ion-card-header>\\n\\n      <ion-card-content>\\n        <ion-card-subtitle class=\\\"main-content\\\">\\n          <span>Mostly Prefer: </span>\\n          {{customer.service}}\\n        </ion-card-subtitle>\\n\\n        <ion-text>{{customer.message}}</ion-text>\\n      </ion-card-content>\\n    </ion-card>\\n  </div>\\n  <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button>\\n      <ion-icon name=\\\"add\\\" (click)=\\\"add()\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}