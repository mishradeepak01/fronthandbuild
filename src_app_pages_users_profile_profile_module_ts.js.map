{"version":3,"sources":["./src/app/pages/users/profile/profile-routing.module.ts","./src/app/pages/users/profile/profile.module.ts","./src/app/pages/users/profile/profile.page.ts","./src/app/pages/users/profile/profile.page.scss","./src/app/pages/users/profile/profile.page.html"],"names":[],"mappings":"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","file":"src_app_pages_users_profile_profile_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProfilePage } from './profile.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProfilePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProfilePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport {NgApexchartsModule} from 'ng-apexcharts'\n\nimport { ProfilePageRoutingModule } from './profile-routing.module';\n\nimport { ProfilePage } from './profile.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ProfilePageRoutingModule,\n    NgApexchartsModule\n  ],\n  declarations: [ProfilePage]\n})\nexport class ProfilePageModule {}\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router'\nimport { UserService } from 'src/app/services/user.service';\nimport { AlertService } from 'src/app/services/alert.service';\n\nimport {\n  ChartComponent,\n  ApexAxisChartSeries,\n  ApexChart,\n  ApexXAxis,\n  ApexStroke,\n  ApexYAxis,\n  ApexMarkers,\n  ApexTooltip,\n  ApexFill\n} from \"ng-apexcharts\";\n\nexport type ChartOptions = {\n  series: ApexAxisChartSeries;\n  chart: ApexChart;\n  xaxis: ApexXAxis;\n  yaxis: ApexYAxis;\n  stroke: ApexStroke;\n  markers: ApexMarkers;\n  tooltip: ApexTooltip;\n  fill: ApexFill;\n};\n\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.page.html',\n  styleUrls: ['./profile.page.scss'],\n})\nexport class ProfilePage implements OnInit {\n\n  @ViewChild(\"chart\") chart: ChartComponent;\n  public chartOptions: Partial<ChartOptions>;\n  customer: any;\n  last_visit: Date;\n  service: String;\n  payment: Number;\n  Payment = [];\n  Date = [];\n  currentYear = \"2021\"\n\n  constructor(private router: Router,\n    private userService: UserService,\n    private alertService: AlertService\n  ) { }\n\n\n  ngOnInit() {\n    this.getCustomer()\n    this.getGraphData()\n    this.getCurrentYear()\n    this.Chart()\n    this.Data();\n  }\n\n  getCustomer() {\n    this.customer = JSON.parse(this.userService.getCustomerFromStorage());\n    this.last_visit = this.customer.last_visit;\n    this.service = this.customer.service;\n    this.payment = this.customer.payment;\n  }\n\n  update() {\n    let editedDate = this.last_visit.toString();\n    if (editedDate.split('-')[1] === this.customer.last_visit.split('-')[1]) {\n      this.userService.editProfile(this.customer.customer_data_id, this.customer.customer_id, this.service, this.payment, this.last_visit).subscribe(\n        async data => {\n          await this.alertService.presentToast(data['msg'], 'success');\n          await this.userService.addCusomerToStorage(JSON.stringify(data['customer']))\n        }\n      )\n    } else {\n      this.userService.updateProfile(this.customer.customer_id, this.service, this.payment, this.last_visit).subscribe(\n        async data => {\n          this.alertService.presentToast(data['msg'], 'success');\n          this.userService.addCusomerToStorage(JSON.stringify(data['customer']))\n        }\n      )\n    }\n  }\n\n  getCurrentYear() {\n    let date = new Date();\n    this.currentYear = String(date.getFullYear());\n  }\n\n  async getGraphData() {\n    await this.userService.getGraphData(this.customer.customer_id).subscribe(data => {\n      data['Payment'].forEach(element => {\n        this.Payment.push(element)\n      });\n      data['Date'].forEach(element => {\n        this.Date.push(element)\n      });\n    })\n  }\n\n  Data(){\n    let i=0;\n    let series = [];\n\n    // while(i<this.Date.length) {\n    //   var x = this.Date[i];\n    //   var y = this.Payment[i];\n    //   series.push([x,y])\n    //   i++;\n    // }\n    for(i=0; i<this.Date.length; i++) {\n      console.log(\"Hello\")\n    }\n    return series;\n  }\n\n  Chart() {\n    this.chartOptions = {\n      series: [\n        {\n          // data: this.Data()\n          data: this.Payment\n        }\n      ],\n\n      chart: {\n        height: 360,\n        type: \"line\",\n        zoom: {\n          enabled: false\n        },\n\n        toolbar: {\n          show: false,\n        }\n      },\n\n      stroke: {\n        curve: 'smooth',\n      },\n\n      markers: {\n        size: 6,\n        hover: {\n          size: 10\n        }\n      },\n\n      fill: {\n        colors: [\"#00E396\"],\n        opacity: 0.8,\n      },\n\n      tooltip: {\n        followCursor: false,\n        theme: \"dark\",\n        marker: {\n          show: false\n        },\n        x: {\n          show: false\n        },\n        y:{\n          title:{\n            formatter: function() {\n              return \"â‚¹\";\n            }\n          }\n        }\n      },\n\n      xaxis: {\n        title: {\n          text: \"Year \"+this.currentYear\n        },\n        categories: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\",  \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n      },\n\n      yaxis: {\n        title: {\n          text: \"Money Spend\"\n        },\n        labels:{\n          minWidth: 10\n        },\n        min: 0,\n        max: 2000,\n        tickAmount: 6\n      }\n    };\n  }\n\n  ngOnDestroy() {\n    this.userService.remove('customer');\n  }\n}\n","export default \".grid {\\n  display: grid;\\n  grid-template-columns: 0.5fr 1fr;\\n}\\n\\n.grid img {\\n  background-position: center;\\n  background-size: cover;\\n}\\n\\n.grid .wrapper ion-input {\\n  text-align: center;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2ZpbGUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBYTtFQUNiLGdDQUFnQztBQUNsQzs7QUFIQTtFQUlJLDJCQUEyQjtFQUMzQixzQkFBc0I7QUFHMUI7O0FBUkE7RUFTTSxrQkFBa0I7QUFHeEIiLCJmaWxlIjoicHJvZmlsZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZ3JpZHtcbiAgZGlzcGxheTogZ3JpZDtcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAwLjVmciAxZnI7XG4gIGltZ3tcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcbiAgfVxuICAud3JhcHBlcntcbiAgICBpb24taW5wdXR7XG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgfVxuICB9XG59Il19 */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>{{customer.first_name}} {{customer.last_name}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-card>\\n    <ion-card-content>\\n      <div class=\\\"grid\\\">\\n        <div>\\n          <ion-card>\\n            <ion-card-content>\\n              <img [src]=\\\"'data:image/png;base64,'+customer.image_name\\\">\\n            </ion-card-content>\\n          </ion-card>\\n        </div>\\n        <div class=\\\"wrapper\\\">\\n          <ion-item>\\n            <ion-label>First Name:</ion-label>\\n            <ion-label>{{customer.first_name}}</ion-label>\\n          </ion-item>\\n          <ion-item>\\n            <ion-label>Last Name:</ion-label>\\n            <ion-label>{{customer.last_name}}</ion-label>\\n          </ion-item>\\n          <ion-item>\\n            <ion-label>Last Visit:</ion-label>\\n            <ion-input value=\\\"{{customer.last_visit}}\\\" type=\\\"date\\\" name=\\\"last_visit\\\" [(ngModel)]=\\\"last_visit\\\"></ion-input>\\n            <ion-icon name=\\\"pencil-outline\\\"></ion-icon>\\n          </ion-item>\\n          <ion-item>\\n            <ion-label>Service:</ion-label>\\n            <ion-input value=\\\"{{customer.service}}\\\" type=\\\"text\\\" name=\\\"service\\\" [(ngModel)]=\\\"service\\\"></ion-input>\\n            <ion-icon name=\\\"pencil-outline\\\"></ion-icon>\\n          </ion-item>\\n          <ion-item>\\n            <ion-label>Payment Status:</ion-label>\\n            <ion-input value=\\\"{{customer.payment}}\\\" type=\\\"number\\\" name=\\\"payment\\\" [(ngModel)]=\\\"payment\\\"></ion-input>\\n            <ion-icon name=\\\"pencil-outline\\\"></ion-icon>\\n          </ion-item>\\n          <ion-item>\\n            <ion-label>Important Dates:</ion-label>\\n            <ion-label>{{customer.anniversary}}</ion-label>\\n          </ion-item>\\n          <ion-button slot=\\\"end\\\" (click)=\\\"update()\\\">Update</ion-button>\\n        </div>\\n      </div>\\n      <ion-item>\\n        <ion-label>About Customer</ion-label>\\n        <ion-label>{{customer.message}}</ion-label>\\n      </ion-item>\\n    </ion-card-content>\\n  </ion-card>\\n  <ion-card>\\n    <ion-card-content>\\n      <apx-chart\\n      [series]=\\\"chartOptions.series\\\"\\n      [chart]=\\\"chartOptions.chart\\\"\\n      [xaxis]=\\\"chartOptions.xaxis\\\"\\n      [yaxis]=\\\"chartOptions.yaxis\\\"\\n      [stroke]=\\\"chartOptions.stroke\\\"\\n      [markers]=\\\"chartOptions.markers\\\"\\n      [tooltip]=\\\"chartOptions.tooltip\\\"\\n      [fill]=\\\"chartOptions.fill\\\"\\n    ></apx-chart>\\n    </ion-card-content>\\n  </ion-card>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}