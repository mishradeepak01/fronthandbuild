{"version":3,"sources":["./src/app/pages/admin/dashboard/dashboard-routing.module.ts","./src/app/pages/admin/dashboard/dashboard.module.ts","./src/app/pages/admin/dashboard/dashboard.page.ts","./src/app/pages/admin/dashboard/dashboard.page.scss","./src/app/pages/admin/dashboard/dashboard.page.html"],"names":[],"mappings":"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","file":"src_app_pages_admin_dashboard_dashboard_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DashboardPage } from './dashboard.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DashboardPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DashboardPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DashboardPageRoutingModule } from './dashboard-routing.module';\n\nimport { DashboardPage } from './dashboard.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    DashboardPageRoutingModule\n  ],\n  declarations: [DashboardPage]\n})\nexport class DashboardPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\n\nimport { AdminService } from 'src/app/services/admin.service';\nimport { AlertService } from 'src/app/services/alert.service';\nimport { TokenStorageService } from 'src/app/services/tokenstorage.service';\n\n@Component({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.page.html',\n  styleUrls: ['./dashboard.page.scss'],\n})\n\nexport class DashboardPage implements OnInit {\n\n  category: string;\n  Message: string;\n  service: string;\n  business_id1: Number;\n  image_name: string;\n  business_id2: Number;\n  business_id3: Number;\n  template_url: any;\n  template_name: string;\n  business_category: [];\n  referals;\n\n  constructor(\n    private tokenStorage: TokenStorageService,\n    private adminService: AdminService,\n    private alertService: AlertService, \n    private router: Router\n  ) { }\n\n  ngOnInit() {\n    this.getCategory();\n    this.getReferals();\n  }\n\n  getReferals() {\n    this.adminService.getReferals().subscribe(\n      data => {\n        this.referals = data\n      }\n    )\n  }\n\n  deleteReferal(val) {\n    this.adminService.deleteReferal(val).subscribe(\n      data => {\n        this.referals = data;\n      }\n    )\n  }\n\n  generateReferal() {\n    this.adminService.generateReferal().subscribe(\n      data => {\n        this.referals = data;\n      }\n    )\n  }\n\n  onSelectFile(event) {\n    if(event.target.files && event.target.files[0]) {\n      let reader = new FileReader();\n      this.template_name = event.target.files[0].name;\n      reader.readAsDataURL(event.target.files[0]);\n      reader.onload = (event) => {\n        this.template_url = (event.target.result);\n      }\n    }\n  }\n\n  onSubmit(){\n    this.adminService.addTemplate(this.template_url, this.template_name, this.business_id1, this.image_name).subscribe(\n      data => {\n        this.alertService.presentToast(data['msg'], 'success');\n        this.template_url = ''\n        this.image_name = '';\n        document.querySelector('ion-input').value=''\n        this.business_id1 = null;\n      }\n    )\n  }\n\n  addCategory() {\n    this.adminService.addBusiness(this.category).subscribe(\n      data => {\n        this.alertService.presentToast(data['msg'], 'success');\n        this.category =''\n      }\n    )\n  }\n\n  addMessage(){\n    this.adminService.addMessage(1, this.business_id2, this.Message).subscribe(\n      data => {\n        this.alertService.presentToast(data['msg'], 'success');\n        this.Message =''\n        document.querySelector('ion-input').value=''\n        this.business_id2 = null;\n      }\n    )\n  }\n\n  addService() {\n    this.adminService.addService(1, this.business_id3, this.service).subscribe(\n      data => {\n        this.alertService.presentToast(data['msg'], 'success');\n        this.service =''\n        document.querySelector('ion-input').value=''\n        this.business_id3 = null;\n      }\n    )\n  }\n\n  getCategory() {\n    this.adminService.getCategory().subscribe(\n      data=> {\n        this.business_category = data['business'];\n      }\n    )\n  }\n\n  logout() {\n    this.tokenStorage.logout();\n    this.router.navigateByUrl('/', {replaceUrl: true});\n  }\n}\n","export default \".wrapper {\\n  display: flex;\\n  flex-direction: column;\\n  padding: 0.4rem;\\n}\\n\\n.wrapper ion-item {\\n  padding: 0.4rem 0;\\n}\\n\\n.wrapper ion-img {\\n  padding: 0.3rem;\\n}\\n\\n#referal ion-card-header {\\n  padding: 0.2rem;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-evenly;\\n}\\n\\n#referal ion-card-header ion-button {\\n  margin-top: 2rem;\\n}\\n\\n#referal ion-card-content #header ion-chip {\\n  width: 100%;\\n  display: flex;\\n  justify-content: space-evenly;\\n}\\n\\n#referal ion-card-content #content {\\n  width: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-between;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhc2hib2FyZC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLGVBQWU7QUFDakI7O0FBSkE7RUFLSSxpQkFBaUI7QUFHckI7O0FBUkE7RUFRSSxlQUFlO0FBSW5COztBQUFBO0VBRUksZUFBZTtFQUNmLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsNkJBQTZCO0FBRWpDOztBQVBBO0VBT00sZ0JBQWdCO0FBSXRCOztBQVhBO0VBYVEsV0FBVztFQUNYLGFBQWE7RUFDYiw2QkFBNkI7QUFFckM7O0FBakJBO0VBbUJNLFdBQVc7RUFDWCxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLDhCQUE4QjtBQUVwQyIsImZpbGUiOiJkYXNoYm9hcmQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLndyYXBwZXJ7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIHBhZGRpbmc6IDAuNHJlbTtcbiAgaW9uLWl0ZW17XG4gICAgcGFkZGluZzogMC40cmVtIDA7XG4gIH1cbiAgaW9uLWltZ3tcbiAgICBwYWRkaW5nOiAwLjNyZW07XG4gIH1cbn1cblxuI3JlZmVyYWx7XG4gIGlvbi1jYXJkLWhlYWRlcntcbiAgICBwYWRkaW5nOiAwLjJyZW07XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5O1xuICAgIGlvbi1idXR0b257XG4gICAgICBtYXJnaW4tdG9wOiAycmVtO1xuICAgIH1cbiAgfVxuICBpb24tY2FyZC1jb250ZW50e1xuICAgICNoZWFkZXJ7XG4gICAgICBpb24tY2hpcHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5O1xuICAgICAgfVxuICAgIH1cbiAgICAjY29udGVudHtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgfVxuICB9XG59Il19 */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Welcome To Dashboard</ion-title>\\n    <ion-button slot=\\\"end\\\" fill=\\\"outline\\\" (click)=\\\"logout()\\\">\\n      <ion-icon name=\\\"log-out\\\"></ion-icon>\\n    </ion-button>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-card>\\n    <ion-card-header>Add Category</ion-card-header>\\n    <ion-card-content>\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\">Add Category</ion-label>\\n        <ion-input type=\\\"text\\\" name=\\\"category\\\" [(ngModel)]=\\\"category\\\"></ion-input>\\n      </ion-item>\\n      <ion-button (click)=\\\"addCategory()\\\">Add</ion-button>\\n    </ion-card-content>\\n  </ion-card>\\n  \\n  <ion-card>\\n    <ion-card-header>Add Template</ion-card-header>\\n      <div class=\\\"wrapper\\\">\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\">Bussiness Category</ion-label>\\n          <ion-select [(ngModel)]=\\\"business_id1\\\" name=\\\"business_id1\\\">\\n            <ion-select-option *ngFor=\\\"let business of business_category\\\" value={{business.business_id}}>{{business.business_name}}</ion-select-option>\\n          </ion-select>\\n        </ion-item>\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\">Template Name</ion-label>\\n          <ion-input name=\\\"image_name\\\" [(ngModel)]=\\\"image_name\\\"></ion-input>\\n        </ion-item>\\n        <ion-input type=\\\"file\\\" (change)=\\\"onSelectFile($event)\\\" accept=\\\"image/*\\\"></ion-input>\\n        <ion-img [src]=\\\"template_url\\\" *ngIf=\\\"template_url\\\"></ion-img>\\n        <ion-button (click)=\\\"onSubmit()\\\">Upload</ion-button>\\n      </div>\\n  </ion-card>\\n  \\n  <ion-card>\\n    <ion-card-header>Add Default Message</ion-card-header>\\n    <ion-card-content>\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\">Bussiness Category</ion-label>\\n        <ion-select [(ngModel)]=\\\"business_id2\\\" name=\\\"business_id2\\\">\\n          <ion-select-option *ngFor=\\\"let business of business_category\\\" value={{business.business_id}}>{{business.business_name}}</ion-select-option>\\n        </ion-select>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\">Default Message</ion-label>\\n        <ion-input type=\\\"text\\\" name=\\\"Message\\\" [(ngModel)]=\\\"Message\\\"></ion-input>\\n      </ion-item>\\n      <ion-button (click)=\\\"addMessage()\\\">Add</ion-button>\\n    </ion-card-content>\\n  </ion-card>\\n  \\n  <ion-card>\\n    <ion-card-header>Add Default Services</ion-card-header>\\n    <ion-card-content>\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\">Bussiness Category</ion-label>\\n        <ion-select [(ngModel)]=\\\"business_id3\\\" name=\\\"business_id3\\\">\\n          <ion-select-option *ngFor=\\\"let business of business_category\\\" value={{business.business_id}}>{{business.business_name}}</ion-select-option>\\n        </ion-select>\\n      </ion-item>\\n      <ion-item>\\n        <ion-label position=\\\"floating\\\">Default Services</ion-label>\\n        <ion-input type=\\\"text\\\" name=\\\"service\\\" [(ngModel)]=\\\"service\\\"></ion-input>\\n      </ion-item>\\n      <ion-button (click)=\\\"addService()\\\">Add</ion-button>\\n    </ion-card-content>\\n  </ion-card>\\n\\n  <ion-card id=\\\"referal\\\">\\n    <ion-card-header >\\n      <p>Generate Referal</p>\\n      <ion-button (click)=\\\"generateReferal()\\\">Generate Referal</ion-button>\\n    </ion-card-header>\\n    <ion-card-content>\\n      <ion-item id=\\\"header\\\">\\n        <ion-chip>\\n          <ion-label>Referal Code</ion-label>\\n          <ion-label>Assigned Status</ion-label>\\n        </ion-chip>\\n      </ion-item>\\n      <ion-item *ngFor=\\\"let referal of referals\\\" id=\\\"content\\\">\\n        <ion-chip>{{referal.code}}</ion-chip>\\n        <ion-chip>{{referal.assigned_status}}</ion-chip>\\n        <ion-icon name=\\\"trash\\\" color=\\\"danger\\\" (click)=\\\"deleteReferal(referal.id)\\\"></ion-icon>\\n      </ion-item>\\n    </ion-card-content>\\n  </ion-card>\\n</ion-content>\";"],"sourceRoot":"webpack:///"}