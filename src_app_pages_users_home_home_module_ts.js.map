{"version":3,"sources":["./src/app/pages/users/home/home-routing.module.ts","./src/app/pages/users/home/home.module.ts","./src/app/pages/users/home/home.page.ts","./src/app/pages/users/home/home.page.scss","./src/app/pages/users/home/home.page.html"],"names":[],"mappings":"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","file":"src_app_pages_users_home_home_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HomePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HomePageRoutingModule } from './home-routing.module';\n\nimport { HomePage } from './home.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HomePageRoutingModule\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { UserService } from 'src/app/services/user.service';\nimport { TokenStorageService } from 'src/app/services/tokenstorage.service'\nimport { Router } from '@angular/router';\nimport { AlertController } from '@ionic/angular';\nimport { AlertService } from 'src/app/services/alert.service';\n\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.page.html',\n  styleUrls: ['./home.page.scss'],\n})\nexport class HomePage implements OnInit {\n  \n  templates\n  username: string;\n  user_id: Number;\n  temp: string;\n  result;\n  \n  constructor(\n    private tokenStorage: TokenStorageService,\n    private userService: UserService,\n    private router: Router,\n    private _alertController : AlertController,\n    private _alertService : AlertService\n  ) { }\n  \n  \n  ngOnInit() {\n    this.getTemplates()\n    this.getUser();\n  }\n\n  getUser() {\n    let user = this.tokenStorage.DecodeToken();\n    this.username = user['username'];\n    this.user_id = user['user_id']\n  }\n  \n  async edit(value) {\n    await this.userService.checkReferal(this.user_id).subscribe(\n      data => {\n        this.result = data;\n        if(this.result == null) {\n          this.presentAlertPrompt(value);\n        } else {\n          this.userService.addImageToStorage(value);\n          this.router.navigate(['/editimage']);\n        }\n      }\n    )\n  }\n  \n  async presentAlertPrompt(value) {\n    const alert = await this._alertController.create({\n      header: 'Enter Referal Code',\n      inputs: [\n        {\n          name: 'code',\n          type: 'number',\n          placeholder: 'Referal Code'\n        },\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n        }, {\n          text: 'Ok',\n          handler: (alertData) => {\n            this.userService.assignReferal(this.user_id, alertData.code).subscribe(\n              data=> {\n                if(data == true) {\n                  this.userService.addImageToStorage(value);\n                  this.router.navigate(['/editimage']);\n                } else {\n                  this._alertService.presentToast(data['error'], 'danger')\n                }\n              }\n            )\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n  async getTemplates() {\n    await this.userService.getTemplate().subscribe(\n      data => {\n        this.templates = data['template']\n      }\n    )\n  }\n}\n","export default \".grid {\\n  margin: 1rem;\\n  display: grid;\\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\\n}\\n\\n.grid ion-card {\\n  position: relative;\\n  display: flex;\\n  align-items: center;\\n  justify-self: center;\\n}\\n\\n.grid ion-card ion-img {\\n  opacity: 0.6;\\n  z-index: 1;\\n  height: 350px;\\n}\\n\\n.grid ion-card ion-button {\\n  position: absolute;\\n  z-index: 2;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  -ms-transform: translate(-50%, -50%);\\n}\\n\\n.grid #template_name {\\n  text-align: center;\\n}\\n\\nion-title {\\n  color: #1000aa;\\n}\\n\\nion-label {\\n  color: #414040;\\n}\\n\\nion-chip {\\n  padding: 1rem;\\n  background-color: #d4cbff;\\n}\\n\\nion-chip .username {\\n  font-size: 1rem;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhvbWUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBWTtFQUNaLGFBQWE7RUFDYiw0REFBMkQ7QUFDN0Q7O0FBSkE7RUFNSSxrQkFBa0I7RUFDbEIsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixvQkFBb0I7QUFFeEI7O0FBWEE7RUFZTSxZQUFZO0VBQ1osVUFBVTtFQUNWLGFBQWE7QUFHbkI7O0FBakJBO0VBbUJNLGtCQUFrQjtFQUNsQixVQUFTO0VBQ1QsUUFBTztFQUNQLFNBQVE7RUFDUixnQ0FBZ0M7RUFDaEMsb0NBQW9DO0FBRTFDOztBQTFCQTtFQTZCSSxrQkFBa0I7QUFDdEI7O0FBRUE7RUFDRSxjQUFjO0FBQ2hCOztBQUNBO0VBQ0UsY0FBYztBQUVoQjs7QUFDQTtFQUNFLGFBQWE7RUFDYix5QkFBeUI7QUFFM0I7O0FBSkE7RUFJSSxlQUFlO0FBSW5CIiwiZmlsZSI6ImhvbWUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmdyaWR7XG4gIG1hcmdpbjogMXJlbTtcbiAgZGlzcGxheTogZ3JpZDtcbiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoYXV0by1maWxsLG1pbm1heCgzMDBweCwgMWZyKSk7XG5cbiAgaW9uLWNhcmR7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBqdXN0aWZ5LXNlbGY6IGNlbnRlcjsgICAgXG4gICAgXG4gICAgaW9uLWltZ3tcbiAgICAgIG9wYWNpdHk6IDAuNjtcbiAgICAgIHotaW5kZXg6IDE7XG4gICAgICBoZWlnaHQ6IDM1MHB4O1xuICAgICAgXG4gICAgfVxuICAgIFxuICAgIGlvbi1idXR0b257XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB6LWluZGV4OjI7XG4gICAgICB0b3A6NTAlO1xuICAgICAgbGVmdDo1MCU7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbiAgICAgIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbiAgICB9XG4gIH1cblxuICAjdGVtcGxhdGVfbmFtZXtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIH1cbn1cbmlvbi10aXRsZXtcbiAgY29sb3I6ICMxMDAwYWE7XG59XG5pb24tbGFiZWx7XG4gIGNvbG9yOiAjNDE0MDQwO1xufVxuXG5pb24tY2hpcHtcbiAgcGFkZGluZzogMXJlbTtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2Q0Y2JmZjtcbiAgLnVzZXJuYW1le1xuICAgIGZvbnQtc2l6ZTogMXJlbTtcbiAgfVxuXG59Il19 */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Home</ion-title>\\n    <ion-chip  slot=\\\"end\\\">\\n      <ion-label class=\\\"username\\\">Welcome {{username}}</ion-label>\\n    </ion-chip>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"grid\\\" *ngFor=\\\"let template of templates\\\">\\n    <ion-card>\\n      <ion-card-content>\\n        <ion-img [src]=\\\"'data:image/png;base64, '+template.template_name\\\"></ion-img>\\n        <ion-button color=\\\"light\\\" (click)=\\\"edit(template.template_name)\\\">Edit</ion-button>\\n      </ion-card-content>\\n    </ion-card>\\n    <ion-label id=\\\"template_name\\\">{{template.image_name}}</ion-label>\\n  </div>\\n</ion-content>\";"],"sourceRoot":"webpack:///"}